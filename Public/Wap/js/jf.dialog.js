(function(l,e){var q=l.dd||{};if(q.dialog){return q.dialog;}var o=q.dialog||{};var c=document.documentElement,f=c.scrollTop,p=c.scrollLeft,a=c.clientHeight,h=c.clientWidth;var k=null,r=null,n=null;var j=function(d){return(typeof Array.isArray)?Array.isArray(d):(Object.prototype.toString.call(d)==="[object Array]");};var b=function(d){document.body.appendChild(d);};var g=function(d){if(!d){return;}d.type=d.type||"loading";d.bg=d.bg||"#000";d.op=d.op||"0.3";d.width=d.width||"280px";d.d_bg=d.d_bg||"#fff";d.d_op=d.d_op||"";d.wallCss="position:absolute;left:0;top:0;display:none;z-index:9998;background-color:"+d.bg+";opacity:"+d.op+";filter:"+d.filter+";";d.wrapCss="text-align:center;position:absolute;border-radius:5px;z-index:9999;width:"+d.width+";height:"+d.height+";background-color:"+d.d_bg+";opacity:"+d.d_op+";filter:"+d.d_filter+";"+((d.type==="loading")?"padding:0;":"")+"";};var i={genIcon:function(y){var t="";y.icon=y.icon||{};var d=y.icon.width||"28px",x=y.icon.height||"26px",s=y.icon.url||"/static/webapp/images/i-plaint.png";var z="",v="",u="";if(y.type!=="loading"){z="margin:24px 0 12px";u="display:inline-block;width:60px;height:60px;background-color:#f0f0f0;background-size:60px 60px;border-radius:50%;";v='<span style="vertical-align:middle;display:inline-block;height:100%;"></span><img src='+s+' style="width:'+d+";height:"+x+';vertical-align:middle;" />';}else{s=y.icon.url||"http://static.xiaojukeji.com/webapp/images/loading_2.gif";z="margin:36px 0 10px";u="display:inline-block;width:30px;height:30px;background:url("+s+") no-repeat;background-size:30px 30px;";}t='<p style="'+z+'"><span style="'+u+'">'+v+"</span></p>";return t;},genTitle:function(t){t.title=t.title||{};var d=t.title.color||"#ff8a01",s=t.title.size||"1.9rem";return'<p style="margin-bottom: 5px;color:'+d+";font-size:"+s+';">'+(t.title.txt||"")+"</p>";},genTip:function(d){if(d.title&&d.title.txt){d.tip.color=d.tip.color||"#666";d.tip.size=d.tip.size||"1.4rem";}else{d.tip.color=d.tip.color||"#333";d.tip.size=d.tip.size||"1.6rem";}return d.tip?'<p style="'+((d.type!=="loading")?"text-align:center;":"")+"line-height:1.9rem;color:"+d.tip.color+";font-size:"+d.tip.size+';">'+d.tip.txt+"</p>":"";},genButtons:function(v){var u="";if(v.btns&&j(v.btns)){u+='<div style="padding:20px 0;">';for(var t=0,d=v.btns.length;t<d;t++){var s=v.btns[t];if(s&&v.type==="alert"){u+='<a class="'+s.kls+'" id="'+s.id+'">'+s.val+"</a>";}else{if(s&&v.type==="confirm"){u+='<a class="'+s.kls+'" id="'+s.id+'" style="width: 43%; height: 40px; line-height: 40px; margin:0 3%;">'+s.val+"</a>";}else{u+='<a class="'+s.kls+'" id="'+s.id+'" sdscs style="margin:5px 0;">'+s.val+"</a>";}}}u+="</div>";}if(v.ext&&typeof v.ext==="string"){u+=v.ext;}return u;},addEvents:function(v){var t=null;if(!j(v.btns)||!v.btns.length){return;}for(var s=0,d=v.btns.length;s<d;s++){t=v.btns[s];if(t){var u=t.event||"click",w=document.getElementById(t.id);if(w){w.removeEventListener(u,t.handler,false);w.addEventListener(u,t.handler,false);}}}}};var m=function(d){if(!(this instanceof m)){n=new m(d);return n;}else{new m.fn.init(d);}};m.fn=m.prototype={constructor:m,init:function(t){if(!t){return;}var u=document.createElement("div");var s=document.createElement("div");u.id="d-wall";s.id="d-wrap";if(Object.prototype.toString.call(t,null)==="[object Object]"){g(t);u.style.cssText=t.wallCss;s.style.cssText=t.wrapCss;var d="<div style='"+((t.type==="loading")?"padding:0px;":"padding: 0px 6%;")+"'>"+i.genIcon(t)+i.genTitle(t)+i.genTip(t)+i.genButtons(t)+"</div>";s.innerHTML=d;}if(Object.prototype.toString.call(t,null)==="[object String]"){u.style.cssText="position:absolute;left:0;top:0;display:none;z-index:9998;background-color:#000;opacity:0.3";s.style.cssText="position:absolute;z-index:9999;";s.innerHTML=t;}if(Object.prototype.toString.call(t,null)==="[object HTMLDivElement]"){u.style.cssText="position:absolute;left:0;top:0;display:none;z-index:9998;background-color:#000;opacity:0.3";s.style.cssText="z-index:9999;display:inline-block;position:absolute;border-radius:5px;padding:0;width:280px;background-color:#fff;";t.style.display="inline-block";s.appendChild(t);}if(k){document.body.removeChild(k);k=null;}if(r){document.body.removeChild(r);r=null;}if(!k){b(u);k=document.getElementById("d-wall");}if(!r){b(s);r=document.getElementById("d-wrap");if(Object.prototype.toString.call(t,null)==="[object Object]"){i.addEvents(t);}}},show:function(){var d=this;if(k&&r){k.style.display="block";r.style.display="inline-block";d.reset();l.addEventListener("resize",function(){d.reset.call(d);},false);l.addEventListener("scroll",function(){d.reset.call(d);},false);}},hide:function(){if(k&&r){k.style.display="none";r.style.display="none";}},reset:function(){if(k&&r){var s=this._dialogPosi();var d=document.body.scrollHeight||document.documentElement.scrollHeight;k.style.width=h+"px";k.style.height=d+"px";r.style.top=s.top+"px";r.style.left=s.left+"px";}},_dialogPosi:function(){var t=r.clientHeight,d=r.clientWidth;var s=document.body.scrollTop||document.documentElement.scrollTop;return{top:s+(a-t-20)/2,left:p+(h-d)/2};}};o.alert=function(d){var s={};if(typeof arguments[0]==="string"&&arguments[0]){s.title=arguments[1]||"";s.tip=arguments[0];s.btn={val:arguments[2]||"我知道了"};}else{if(d&&typeof d==="object"){s=d;}}n=new m({type:"alert",icon:s.icon||{url:"/static/webapp/images/i-plaint.png"},title:{txt:s.title},tip:{txt:s.tip},btns:[{id:"btn-close",kls:"btn-orange",event:"click",val:(s.btn&&s.btn.val)||"我知道了",handler:function(t){n.hide();if(typeof s.btn.handler==="function"){s.btn.handler(t);}}}]});n.show();};o.confirm=function(d){var u={};if(typeof arguments[0]==="string"&&arguments[0]){u.text=arguments[0]||"";u.confirm={};u.confirm.handler=arguments[1];}else{if(d&&typeof d==="object"){u=d;}}var t=u.cancel||{};var s=u.confirm||{};n=new m({type:"confirm",tip:{txt:u.text},icon:u.icon||{url:"/static/webapp/images/i-plaint.png"},btns:[{id:t.id||"btn-cancel",val:t.val||"取消",kls:t.kls||"btn-white",event:t.event||"click",handler:function(v){n.hide();if(typeof t.handler==="function"){t.handler(v);}}},{id:s.id||"btn-ok",val:s.val||"确定",kls:s.kls||"btn-orange",event:s.event||"click",handler:function(v){n.hide();if(typeof s.handler==="function"){s.handler(v);}}}],ext:u.ext});n.show();};o.loading=function(d){var s={};if(typeof arguments[0]!=="object"){s.text=arguments[0];s.time=arguments[1]||0;}else{s=d;}n=new m({type:"loading",bg:"#fff",d_bg:"#0c0d0d",d_op:"0.7",width:"140px",height:"140px",tip:{txt:s.text||"正在加载",color:"#fff",size:"14px"}});n.show();if(!s.time){s.time=5000;}l.setTimeout(function(){n.hide();console.log(typeof s.hideCB==="function");if(typeof s.hideCB==="function"){s.hideCB();}},s.time);};o.flatLoading=function(d){var s={};if(typeof arguments[0]!=="object"){s.text=arguments[0];s.time=arguments[1]||0;}else{s=d;}n=new m({type:"loading",bg:"#fff",op:"1",d_bg:"#fff",d_op:"1",width:"140px",height:"140px",tip:{txt:s.text||"",color:"#666",size:"14px"}});n.show();if(!s.time){s.time=5000;}l.setTimeout(function(){n.hide();if(typeof s.hideCB==="function"){s.hideCB();}},s.time);};o.logoLoading=function(s,d){n=new m('<div class="loading-car"><div class="bg"></div><div class="loading-car-icon"></div></div>');n.show();if(!s){s=5000;}l.setTimeout(function(){n.hide();if(typeof d==="function"){d();}},s);};o.Fn=m;l.dd=q;q.dialog=o;})(window);